webpackJsonp([1],{"+BTi":function(t,e){},0:function(t,e){},Iun5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("Iun5"),n("+BTi");var r=n("ttjG"),o=n.n(r),i=(n("X+ky"),n("HJMx")),a=n.n(i),s=n("7+uW"),u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var c=n("VU/8")({name:"App"},u,!1,function(t){n("ymcE")},null,null).exports,l=n("/ocq"),d=n("smDs"),f=n("k+cc"),h=n.n(f),p=n("mP1F"),v=n.n(p),g=n("c/Tr"),w=n.n(g),m=n("fZjL"),b=n.n(m),x=n("//Fk"),y=n.n(x);!function(){var t="undefined"!=typeof exports&&exports||"undefined"!=typeof define&&{}||this||window;"undefined"!=typeof define&&define("save-svg-as-png",[],function(){return t}),t.default=t;var e="http://www.w3.org/2000/xmlns/",n="http://www.w3.org/2000/svg",r=/url\(["']?(.+?)["']?\)/,o={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},i=function(t){return t instanceof HTMLElement||t instanceof SVGElement},a=function(t){if(!i(t))throw new Error("an HTMLElement or SVGElement is required; got "+t)},s=function(t){return new y.a(function(e,n){i(t)?e(t):n(new Error("an HTMLElement or SVGElement is required; got "+t))})},u=function(t,e,n){var r=t.viewBox&&t.viewBox.baseVal&&t.viewBox.baseVal[n]||null!==e.getAttribute(n)&&!e.getAttribute(n).match(/%$/)&&parseInt(e.getAttribute(n))||t.getBoundingClientRect()[n]||parseInt(e.style[n])||parseInt(window.getComputedStyle(t).getPropertyValue(n));return void 0===r||null===r||isNaN(parseFloat(r))?0:r},c=function(t){for(var e=window.atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),o=new Uint8Array(r),i=0;i<e.length;i++)o[i]=e.charCodeAt(i);return new Blob([r],{type:n})},l=function(t,e){var n=t.cssText.match(r),i=n&&n[1]||"";if(i&&!i.match(/^data:/)&&"about:blank"!==i){var a,s,u=i.startsWith("../")?e+"/../"+i:i.startsWith("./")?e+"/."+i:i;return{text:t.cssText,format:(a=u,s=b()(o).filter(function(t){return a.indexOf("."+t)>0}).map(function(t){return o[t]}),s?s[0]:(console.error("Unknown font format for "+a+". Fonts may not be working correctly."),"application/octet-stream")),url:u}}},d=function(t){return y.a.all(w()(t.querySelectorAll("image")).map(function(t){var e,n=t.getAttributeNS("http://www.w3.org/1999/xlink","href")||t.getAttribute("href");return n?((e=n)&&0===e.lastIndexOf("http",0)&&-1===e.lastIndexOf(window.location.host)&&(n+=(-1===n.indexOf("?")?"?":"&")+"t="+(new Date).valueOf()),new y.a(function(e,r){var o=document.createElement("canvas"),i=new Image;i.crossOrigin="anonymous",i.src=n,i.onerror=function(){return r(new Error("Could not load "+n))},i.onload=function(){o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0),t.setAttributeNS("http://www.w3.org/1999/xlink","href",o.toDataURL("image/png")),e(!0)}})):y.a.resolve(null)}))},f={},h=function(t){return y.a.all(t.map(function(t){return new y.a(function(e,n){if(f[t.url])return e(f[t.url]);var o=new XMLHttpRequest;o.addEventListener("load",function(){var n=function(t){for(var e="",n=new Uint8Array(t),r=0;r<n.byteLength;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)}(o.response),i=t.text.replace(r,'url("data:'+t.format+";base64,"+n+'")')+"\n";f[t.url]=i,e(i)}),o.addEventListener("error",function(n){console.warn("Failed to load font from: "+t.url,n),f[t.url]=null,e(null)}),o.addEventListener("abort",function(n){console.warn("Aborted loading font from: "+t.url,n),e(null)}),o.open("GET",t.url),o.responseType="arraybuffer",o.send()})})).then(function(t){return t.filter(function(t){return t}).join("")})},p=null,v=function(t,e){var n=e||{},r=n.selectorRemap,o=n.modifyStyle,i=n.modifyCss,a=n.fonts,s=n.excludeUnusedCss,u=i||function(t,e){return(r?r(t):t)+"{"+(o?o(e):e)+"}\n"},c=[],d=void 0===a,f=a||[];return(p||(p=w()(document.styleSheets).map(function(t){try{return{rules:t.cssRules,href:t.href}}catch(e){return console.warn("Stylesheet could not be loaded: "+t.href,e),{}}}))).forEach(function(e){var n=e.rules,r=e.href;n&&w()(n).forEach(function(e){if(void 0!==e.style)if(function(t,e){if(e)try{return t.querySelector(e)||t.parentNode&&t.parentNode.querySelector(e)}catch(t){console.warn('Invalid CSS selector "'+e+'"',t)}}(t,e.selectorText))c.push(u(e.selectorText,e.style.cssText));else if(d&&e.cssText.match(/^@font-face/)){var n=l(e,r);n&&f.push(n)}else s||c.push(e.cssText)})}),h(f).then(function(t){return c.join("\n")+t})},g=function(){if(!(navigator.msSaveOrOpenBlob||"download"in document.createElement("a")))return{popup:window.open()}};t.prepareSvg=function(t,r,o){a(t);var i=r||{},s=i.left,c=void 0===s?0:s,l=i.top,f=void 0===l?0:l,h=i.width,p=i.height,g=i.scale,m=void 0===g?1:g,b=i.responsive,x=void 0!==b&&b,y=i.excludeCss,A=void 0!==y&&y;return d(t).then(function(){var i=t.cloneNode(!0);i.style.backgroundColor=(r||{}).backgroundColor||t.style.backgroundColor;var a=function(t,e,n,r){if("svg"===t.tagName)return{width:n||u(t,e,"width"),height:r||u(t,e,"height")};if(t.getBBox){var o=t.getBBox(),i=o.x,a=o.y;return{width:i+o.width,height:a+o.height}}}(t,i,h,p),s=a.width,l=a.height;if("svg"!==t.tagName){if(!t.getBBox)return void console.error("Attempted to render non-SVG element",t);null!=i.getAttribute("transform")&&i.setAttribute("transform",i.getAttribute("transform").replace(/translate\(.*?\)/,""));var d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.appendChild(i),i=d}if(i.setAttribute("version","1.1"),i.setAttribute("viewBox",[c,f,s,l].join(" ")),i.getAttribute("xmlns")||i.setAttributeNS(e,"xmlns",n),i.getAttribute("xmlns:xlink")||i.setAttributeNS(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),x?(i.removeAttribute("width"),i.removeAttribute("height"),i.setAttribute("preserveAspectRatio","xMinYMin meet")):(i.setAttribute("width",s*m),i.setAttribute("height",l*m)),w()(i.querySelectorAll("foreignObject > *")).forEach(function(t){t.setAttributeNS(e,"xmlns","svg"===t.tagName?n:"http://www.w3.org/1999/xhtml")}),!A)return v(t,r).then(function(t){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML="<![CDATA[\n"+t+"\n]]>";var n=document.createElement("defs");n.appendChild(e),i.insertBefore(n,i.firstChild);var r=document.createElement("div");r.appendChild(i);var a=r.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if("function"!=typeof o)return{src:a,width:s,height:l};o(a,s,l)});var g=document.createElement("div");g.appendChild(i);var b=g.innerHTML;if("function"!=typeof o)return{src:b,width:s,height:l};o(b,s,l)})},t.svgAsDataUri=function(e,n,r){return a(e),t.prepareSvg(e,n).then(function(t){var e=t.src,n=t.width,o=t.height,i="data:image/svg+xml;base64,"+window.btoa(decodeURIComponent(encodeURIComponent('<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>'+e).replace(/%([0-9A-F]{2})/g,function(t,e){var n=String.fromCharCode("0x"+e);return"%"===n?"%25":n})));return"function"==typeof r&&r(i,n,o),i})},t.svgAsPngUri=function(e,n,r){a(e);var o=n||{},i=o.encoderType,s=void 0===i?"image/png":i,u=o.encoderOptions,c=void 0===u?.8:u,l=o.canvg,d=function(t){var e=t.src,n=t.width,o=t.height,i=document.createElement("canvas"),a=i.getContext("2d"),u=window.devicePixelRatio||1;i.width=n*u,i.height=o*u,i.style.width=i.width+"px",i.style.height=i.height+"px",a.setTransform(u,0,0,u,0,0),l?l(i,e):a.drawImage(e,0,0);var d=void 0;try{d=i.toDataURL(s,c)}catch(t){if("undefined"!=typeof SecurityError&&t instanceof SecurityError||"SecurityError"===t.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw t}return"function"==typeof r&&r(d,i.width,i.height),y.a.resolve(d)};return l?t.prepareSvg(e,n).then(d):t.svgAsDataUri(e,n).then(function(t){return new y.a(function(e,n){var r=new Image;r.onload=function(){return e(d({src:r,width:r.width,height:r.height}))},r.onerror=function(){n("There was an error loading the data URI as an image on the following SVG\n"+window.atob(t.slice(26))+"Open the following link to see browser's diagnosis\n"+t)},r.src=t})})},t.download=function(t,e,n){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(c(e),t);else{var r=document.createElement("a");if("download"in r){r.download=t,r.style.display="none",document.body.appendChild(r);try{var o=c(e),i=URL.createObjectURL(o);r.href=i,r.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(i)})}}catch(t){console.error(t),console.warn("Error while getting object URL. Falling back to string URL."),r.href=e}r.click(),document.body.removeChild(r)}else n&&n.popup&&(n.popup.document.title=t,n.popup.location.replace(e))}},t.saveSvg=function(e,n,r){var o=g();return s(e).then(function(e){return t.svgAsDataUri(e,r||{})}).then(function(e){return t.download(n,e,o)})},t.saveSvgAsPng=function(e,n,r){var o=g();return s(e).then(function(e){return t.svgAsPngUri(e,r||{})}).then(function(e){return t.download(n,e,o)})}}();var A={name:"MultiAvatar",data:function(){return{svg:"",input:"",avatarRandom:!1,timeClicked:"",rotate:!1}},created:function(){var t=h.a.generate();this.newIdenticon(t)},watch:{input:function(t){var e=Object(d.a)(t,!1);this.svg=e}},methods:{refresh:function(){this.newIdenticon()},download:function(t,e){this.htmlToImage(t,e)},newIdenticon:function(t){var e=this;this.avatarRandom=!0,this.timeClicked=Date.now(),t||(this.rotate=!0);var n=v()(""+Math.random()).toString().substring(0,20),r="";!function o(){setTimeout(function(){if(r.length<18){var i=n.substring(n.length-1);n=n.slice(0,-1),r+=i,e.input=t||r,o()}else Date.now()-e.timeClicked>100&&(e.rotate=!1)},6)}()},downloadPng:function(t,e){var n,r,o=document.createElement("div");n=Object(d.a)(t),r="Multiavatar-"+t,o.innerHTML=n;var i=o.firstChild;e?saveSvgAsPng(i,r+"-white.png",{scale:3.465,backgroundColor:"white"}):saveSvgAsPng(i,r+".png",{scale:3.465})}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"multiavatar"},[t.input?n("div",{staticClass:"avatar",domProps:{innerHTML:t._s(t.svg)}}):n("div",{staticClass:"avatar loading"},[n("i",{staticClass:"el-icon-loading"})]),t._v(" "),n("div",{staticClass:"input"},[n("el-input",{staticClass:"input-text",model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),t._v(" "),n("div",{staticClass:"tools"},[n("div",{class:"icon "+(t.rotate?"rotate":""),on:{click:t.refresh}},[n("i",{staticClass:"el-icon-refresh"})]),t._v(" "),n("div",{staticClass:"icon",on:{click:function(e){return t.downloadPng(t.input)}}},[n("i",{staticClass:"el-icon-download"})])])])},staticRenderFns:[]};var S=n("VU/8")(A,C,!1,function(t){n("ttwC")},"data-v-22c611e7",null).exports;s.default.use(l.a);var E=new l.a({routes:[{path:"/",name:"MultiAvatar",component:S}]});s.default.use(a.a),s.default.use(o.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:E,components:{App:c},template:"<App/>"})},"X+ky":function(t,e){},ttwC:function(t,e){},ymcE:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8483e99191fef21f0e2e.js.map